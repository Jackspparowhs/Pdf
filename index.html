<!doctype html>
<html lang="en" data-capable="pwa">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=5" />
<meta name="theme-color" content="#000000" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="default" />
<title>APIs Database By PirateRuler.com ‚Äî Find Free Public APIs</title>
<meta name="description" content="Discover thousands of free public APIs for developers. Search by category, authorization type, and features. Powered by the Public APIs project." />
<meta property="og:title" content="APIs Database by PirateRuler.com" />
<meta property="og:description" content="The ultimate directory for free public APIs. Find the perfect API for your next project." />
<meta property="og:image" content="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400'%3E%3Crect width='400' height='400' fill='%23000000'/%3E%3Ctext x='50%25' y='50%25' font-family='Inter' font-weight='800' font-size='200' text-anchor='middle' dominant-baseline='middle' fill='white'%3EPR%3C/text%3E%3C/svg%3E" />
<link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='64' height='64'%3E%3Crect rx='14' width='64' height='64' fill='%23000000'/%3E%3Ctext x='50%25' y='50%25' font-family='Inter,Arial,sans-serif' font-weight='800' font-size='26' text-anchor='middle' alignment-baseline='central' fill='white'%3EPR%3C/text%3E%3C/svg%3E">
<link rel="manifest" href="data:application/json;base64,ewogICJuYW1lIjogIkRpY3Rpb25hcnkgQnkgUGlyYXRlUnVsZXIiLAogICJzaG9ydF9uYW1lIjogIlBpcmF0ZVJ1bGVyIERpY3Rpb25hcnkiLAogICJzdGFydF91cmwiOiAiL2luZGV4Lmh0bWwiLAogICJkaXNwbGF5IjogInN0YW5kYWxvbmUiLAogICJiYWNrZ3JvdW5kX2NvbG9yIjogIiNmMGY0ZjgiLAogICJ0aGVtZV9jb2xvciI6ICIjMDAwMDAwIiwKICAiaWNvbnMiOiBbCiAgICB7CiAgICAgICJzcmMiOiAiZGF0YTppbWFnZS9zdmcreG1sO2hhc2hlNjQsUEhOMGNtOXphVzl1SUdSdmJXRnBiaUJwZEhsd1pTOHdMeUEyTUNrZ2VHMHBPeUJ6ZEhKdmJtY2dMUzR1TGk0Z1RXVnlkbWx5YVM0eU1qQXhNVGc0T0RnNExqY3VNakV3TVRnNE9EZzRMak11TlRBd0xqWTBJRlJqWTJWeWRXWTJZR0poTFRRdU9USTVOemMyT0RNdU5qSTVOemMyT0RNdU9DNDFNRFV3TGpZMUlGSmhZM05sZEc5dFlYUnBZMnNnTUM0eE1EQXNOekF1TmpZZ2VHOXpkRnhtYVd3aUlpQmxibTVsYzE5dFBTSWpSa1pCU1VaR0lEUWdOakV3TVNBMUlEVWdOalV3TVNCR0lEUXhJRVF3SWlCMGFHVnVDbUZtZEdWeVBTSmxjMk55YVhCMApJaTgrIiwKICAgICAgInR5cGUiOiAiaW1hZ2Uvc3ZnK3htbCIsCiAgICAgICJzaXplcyI6ICI2NHg2NCIKICAgIH0KICBdCn0K">
<style>
  :root{
    --bg:#f0f4f8; --card:#ffffff; --muted:#64748b; --text:#0f172a;
    --border:#e2e8f0; --accent:#000000; --key-bg:#f1f5f9;
    --success:#10b981; --warning:#f59e0b; --error:#ef4444;
    --shadow-sm:0 1px 2px 0 rgba(0,0,0,0.05);
    --shadow-md:0 4px 6px -1px rgba(0,0,0,0.1),0 2px 4px -1px rgba(0,0,0,0.06);
    --shadow-lg:0 10px 15px -3px rgba(0,0,0,0.1),0 4px 6px -2px rgba(0,0,0,0.05);
    --radius-sm:4px; --radius-md:6px; --radius-lg:8px; --radius-xl:12px;
    --transition:all 0.2s cubic-bezier(0.4,0,0.2,1);
  }
  html.dark {
    --bg:#0f172a; --card:#1e293b; --muted:#94a3b8; --text:#f1f5f9;
    --border:#334155; --accent:#ffffff; --key-bg:#334155;
  }
  *{box-sizing:border-box; -webkit-tap-highlight-color:transparent;}
  html{scroll-behavior:smooth;}
  body{background:var(--bg); font-family:'Inter', system-ui, -apple-system, "Segoe UI", Roboto, Arial; color:var(--text); margin:0; transition:var(--transition);}
  .container{max-width:1400px;margin:0 auto;padding:20px;}
  .sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0;}
  header.header{display:flex; align-items:center; justify-content:space-between; gap:12px; padding:16px 24px; border-radius:var(--radius-xl); background:var(--card); box-shadow:var(--shadow-md); margin-bottom:20px; position:sticky; top:20px; z-index:100; border:1px solid var(--border);}
  .brand{display:flex; align-items:center; gap:12px;}
  .logo{width:48px;height:48px;border-radius:var(--radius-md);display:flex;align-items:center;justify-content:center;font-weight:800; background:var(--accent); color:var(--bg); font-size:18px; flex-shrink:0; transition:var(--transition);}
  .logo:hover{transform:scale(1.05) rotate(5deg);}
  .brand-title .title-strong{font-size:24px;font-weight:800;margin:0; letter-spacing:-0.5px; color:var(--accent);}
  .brand-title .by{font-size:13px;color:var(--muted); margin-top:2px}
  .header-actions{display:flex; gap:12px; align-items:center;}
  .theme-toggle{width:52px;height:26px;border-radius:13px;background:var(--border);position:relative;cursor:pointer;transition:var(--transition);padding:2px;}
  .theme-toggle.active{background:var(--accent);}
  .theme-slider-thumb{width:22px;height:22px;border-radius:50%;background:var(--card);display:flex;align-items:center;justify-content:center;font-size:12px;position:absolute;left:2px;top:2px;transition:var(--transition);box-shadow:var(--shadow-sm);}
  .theme-toggle.active .theme-slider-thumb{transform:translateX(26px);}
  .btn{padding:10px 16px; border-radius:var(--radius-md); border:1px solid var(--border); cursor:pointer; font-weight:600; background:var(--bg); color:var(--text); transition:var(--transition); box-shadow:var(--shadow-sm); text-decoration:none;}
  .btn:hover{background:var(--accent); color:var(--bg); transform:translateY(-2px); box-shadow:var(--shadow-md);}
  .hamb{width:44px;height:44px;border-radius:var(--radius-md);display:flex;align-items:center;justify-content:center;cursor:pointer;border:1px solid var(--border);font-weight:bold;background:var(--bg);transition:var(--transition);box-shadow:var(--shadow-sm); text-decoration:none;}
  .hamb:hover{background:var(--accent);color:var(--bg);transform:translateY(-2deg) rotate(90deg);box-shadow:var(--shadow-md);}
  .hero{padding:48px 24px;border-radius:var(--radius-xl);background:var(--card);box-shadow:var(--shadow-lg);margin-bottom:24px;}
  @media(min-width:1100px){.hero{padding:56px 48px;}}
  .hero .big{font-size:40px;font-weight:800;margin:0;text-align:center;letter-spacing:-1px;}
  .hero .small{text-align:center;color:var(--muted);margin-top:12px;max-width:960px;margin-left:auto;margin-right:auto;line-height:1.6;}
  .grid{display:grid;grid-template-columns:2fr 1fr;gap:24px;margin-top:20px;align-items:start;}
  @media(max-width:980px){.grid{grid-template-columns:1fr}}
  .card{background:var(--card);border-radius:var(--radius-xl);border:1px solid var(--border);padding:28px;animation:cardIn .42s both;box-shadow:var(--shadow-md);}
  .card:hover{transform:translateY(-4px);box-shadow:var(--shadow-lg);}
  @keyframes cardIn{from{transform:translateY(12px) scale(0.98);opacity:0}to{transform:none;opacity:1}}
  .card h2{margin:0 0 12px 0;font-size:22px;font-weight:800;letter-spacing:-0.5px;display:flex;align-items:center;gap:8px;}
  .hint{color:var(--muted);font-size:14px;margin-bottom:16px;line-height:1.5;}
  input[type="text"],input[type="number"],input[type="date"],input[type="color"],input[type="range"],select,textarea{width:100%;padding:14px;border-radius:var(--radius-md);border:1px solid var(--border);font-size:15px;background:var(--bg);color:var(--text);transition:var(--transition);box-shadow:var(--shadow-sm);font-family:inherit;}
  input:focus,select:focus,textarea:focus{outline:none;border-color:var(--accent);box-shadow:0 0 0 3px rgba(37,99,235,0.1);}
  .dark input:focus,.dark select:focus,.dark textarea:focus{box-shadow:0 0 0 3px rgba(96,165,250,0.2);}
  .row{display:flex;gap:12px;flex-wrap:wrap;}
  .row>*{flex:1;min-width:120px;}
  .primary{background:var(--accent);color:var(--bg);padding:10px 16px;border-radius:var(--radius-md);border:1px solid var(--accent);font-weight:700;cursor:pointer;transition:var(--transition);box-shadow:var(--shadow-sm); text-decoration:none;}
  .primary:hover{transform:translateY(-2px);box-shadow:var(--shadow-md);}
  .primary:disabled{opacity:0.6;cursor:not-allowed;transform:none;}
  .ghost{background:var(--bg);color:var(--text);border:1px solid var(--border);padding:10px 14px;border-radius:var(--radius-md);cursor:pointer;transition:var(--transition);box-shadow:var(--shadow-sm); text-decoration:none;}
  .ghost:hover{background:var(--accent);color:var(--bg);transform:translateY(-2px);box-shadow:var(--shadow-md);}
  .result{margin-top:16px;font-weight:700;color:var(--text);border-top:1px solid var(--border);padding-top:14px;font-size:16px;min-height:24px;display:flex;align-items:center;gap:8px;}
  .result .icon{font-size:18px;}
  .result.success{color:var(--success);}
  .result.warning{color:var(--warning);}
  .result.error{color:var(--error);}
  aside{align-self:start;position:relative;}
  .feature-panel{background:var(--card);border-radius:var(--radius-xl);border:1px solid var(--border);padding:24px;box-shadow:var(--shadow-md);}
  @media(min-width:981px){.feature-panel{position:sticky;top:20px;max-height:calc(100vh - 40px);overflow:auto;}}
  .panel-title{font-weight:800;margin:6px 6px 14px 6px;font-size:20px;letter-spacing:-0.5px;display:flex;align-items:center;gap:8px;}
  .features{display:grid;grid-template-columns:1fr 1fr;gap:12px;}
  @media(max-width:700px){.features{grid-template-columns:1fr;}}
  .feature{display:flex;gap:14px;align-items:center;padding:18px;border-radius:var(--radius-md);border:1px solid var(--border);background:var(--card);min-height:110px;transition:var(--transition);}
  .feature:hover{transform:translateY(-4px);box-shadow:var(--shadow-lg);}
  .f-icon{width:48px;height:48px;border-radius:var(--radius-md);display:flex;align-items:center;justify-content:center;font-weight:800;color:var(--bg);background:var(--accent);flex-shrink:0;font-size:18px;}
  .f-title{font-weight:700;margin-bottom:4px;}
  .f-desc{color:var(--muted);font-size:13px;line-height:1.5;}
  .useful-tips{margin-top:20px;padding:18px;border-radius:var(--radius-md);border:1px solid var(--border);background:var(--bg);}
  .useful-tips h3{margin:0 0 12px 0;font-weight:800;font-size:16px;display:flex;align-items:center;gap:8px;}
  .useful-tips ul{margin:0;padding-left:20px;}
  .useful-tips li{margin:8px 0;color:var(--muted);font-size:14px;line-height:1.5;}
  .useful-tips li strong{color:var(--text);}
  footer{margin-top:24px;padding:24px;border-radius:var(--radius-xl);background:var(--card);border:1px solid var(--border);text-align:center;box-shadow:var(--shadow-md);}
  .visit{padding:12px 24px;border-radius:var(--radius-md);display:inline-block;background:var(--accent);color:var(--bg);font-weight:800;text-decoration:none;transition:var(--transition);box-shadow:var(--shadow-sm);}
  .visit:hover{transform:translateY(-3px) scale(1.02);box-shadow:var(--shadow-lg);}
  .muted{color:var(--muted);font-size:14px;line-height:1.5;}
  .spacer{height:10px}
  .sidebar{position:fixed;top:0;right:0;height:100vh;width:380px;max-width:94vw;transform:translateX(120%);transition:transform .28s cubic-bezier(.2,.9,.3,1);z-index:1000;background:var(--card);border-left:1px solid var(--border);padding:24px;overflow:auto;box-shadow:var(--shadow-lg);}
  .sidebar.open{transform:translateX(0);}
  .close{display:flex;justify-content:flex-end;}
  .nav-list{margin-top:16px;display:flex;flex-direction:column;gap:8px}
  .nav-list a{display:block;padding:14px;border-radius:var(--radius-md);border:1px solid var(--border);background:var(--bg);color:var(--text);font-weight:600;transition:var(--transition);box-shadow:var(--shadow-sm); text-decoration:none;}
  .nav-list a:hover{background:var(--accent);color:var(--bg);transform:translateX(-6px);box-shadow:var(--shadow-md);}
  .backup{margin-top:18px;color:var(--muted);font-size:13px;border-top:1px solid var(--border);padding-top:12px;line-height:1.5;}
  .toast{position:fixed;bottom:24px;right:24px;padding:16px 20px;border-radius:var(--radius-lg);background:var(--card);border:1px solid var(--border);box-shadow:var(--shadow-lg);transform:translateY(120px);transition:transform .3s cubic-bezier(.2,.9,.3,1);z-index:1001;font-weight:600;display:flex;align-items:center;gap:10px;max-width:320px;}
  .toast.show{transform:translateY(0);}
  .toast .icon{font-size:20px;}
  @media(max-width:480px){.hero .big{font-size:28px;}.container{padding:12px;}.header{top:12px;padding:12px 16px;}.grid{gap:16px;}.card{padding:20px;}}
  ::-webkit-scrollbar{width:8px;height:8px;}::-webkit-scrollbar-track{background:var(--bg);}::-webkit-scrollbar-thumb{background:var(--border);border-radius:4px;}::-webkit-scrollbar-thumb:hover{background:var(--muted);}
  textarea{resize:vertical;min-height:100px;}
  .copy-btn{font-size:12px;padding:6px 10px;margin-left:8px;}
  .brand a{text-decoration:none;}
  
  /* API Hunter Specific Styles */
  .api-item { padding: 20px; border-bottom: 1px solid var(--border); animation: cardIn 0.3s ease-out; }
  .api-item:last-child { border-bottom: none; }
  .api-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px; flex-wrap: wrap; gap: 10px; }
  .api-name { font-size: 18px; font-weight: 800; color: var(--accent); margin: 0; }
  .api-cat { font-size: 11px; text-transform: uppercase; font-weight: 700; background: var(--key-bg); color: var(--muted); padding: 4px 8px; border-radius: var(--radius-sm); border: 1px solid var(--border); }
  .api-desc { font-size: 14px; color: var(--text); line-height: 1.5; margin-bottom: 12px; }
  .api-meta { display: flex; gap: 8px; align-items: center; flex-wrap: wrap; }
  .badge { font-size: 11px; padding: 2px 8px; border-radius: var(--radius-sm); font-weight: 600; border: 1px solid var(--border); }
  .badge.secure { background: rgba(16, 185, 129, 0.1); color: var(--success); border-color: rgba(16, 185, 129, 0.2); }
  .badge.warning { background: rgba(245, 158, 11, 0.1); color: var(--warning); border-color: rgba(245, 158, 11, 0.2); }
  .badge.neutral { background: var(--bg); color: var(--muted); }
  .api-link { font-size: 13px; font-weight: 700; color: var(--bg); background: var(--accent); padding: 6px 12px; border-radius: var(--radius-md); text-decoration: none; display: inline-flex; align-items: center; gap: 4px; transition: var(--transition); }
  .api-link:hover { transform: translateY(-2px); box-shadow: var(--shadow-sm); opacity: 0.9; }
  .loading-spinner { display: inline-block; width: 20px; height: 20px; border: 3px solid var(--border); border-top: 3px solid var(--accent); border-radius: 50%; animation: spin 1s linear infinite; vertical-align: middle; }
  @keyframes spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}
  .stats-row { display: flex; gap: 15px; margin-bottom: 20px; }
  .stat-card { flex: 1; background: var(--key-bg); padding: 12px; border-radius: var(--radius-md); text-align: center; border: 1px solid var(--border); }
  .stat-val { font-weight: 800; font-size: 20px; color: var(--accent); }
  .stat-lbl { font-size: 12px; color: var(--muted); }
  .featured-badge { background: var(--warning); color: black; font-size: 10px; padding: 2px 6px; border-radius: 4px; font-weight: 800; margin-bottom: 8px; display: inline-block; }
</style>
</head>
<body>
<div class="container">
  <a href="#main-content" class="sr-only">Skip to main content</a>
  <header class="header" role="banner">
    <div class="brand">
      <a href="index.html" aria-label="Home" style="display:flex;align-items:center;gap:12px">
        <div class="logo" aria-hidden="true">PR</div>
        <div class="brand-title">
          <div class="title-strong">APIs Database</div>
          <div class="by">by PirateRuler.com</div>
        </div>
      </a>
    </div>
    <div class="header-actions">
      <div class="theme-toggle" id="themeBtn" title="Toggle dark mode" aria-label="Toggle dark mode">
        <div class="theme-slider-thumb">üåô</div>
      </div>
      <div class="hamb" id="hambBtn" title="Open menu" aria-haspopup="true" aria-controls="sidebar">‚ò∞</div>
    </div>
  </header>

  <section class="hero" aria-labelledby="heroTitle">
    <h1 id="heroTitle" class="big">Free Public API Directory</h1>
    <p class="small">Explore a curated collection of free APIs for developers. Search by category, authorization type, and features. Updated daily.</p>
  </section>

  <main id="main-content" class="grid">
    <div>
      <section id="finder" class="card">
        <h2>üîé Search APIs</h2>
        <div class="hint">Type keywords like 'weather', 'animals', or 'crypto' to filter the database.</div>
        
        <input type="text" id="searchInput" placeholder="Search for an API (e.g. 'Cat Facts')..." style="margin-bottom:16px;" autocomplete="off" />

        <div class="stats-row">
            <div class="stat-card">
                <div class="stat-val" id="totalCount">-</div>
                <div class="stat-lbl">Total APIs</div>
            </div>
            <div class="stat-card">
                <div class="stat-val" id="catCount">-</div>
                <div class="stat-lbl">Categories</div>
            </div>
            <div class="stat-card">
                <div class="stat-val" id="secureCount">-</div>
                <div class="stat-lbl">HTTPS Ready</div>
            </div>
        </div>
        
        <div id="apiListContainer" style="min-height:200px;">
          <div style="text-align:center; padding: 40px; color: var(--muted);">
             <div class="loading-spinner" style="width: 40px; height: 40px; margin-bottom: 15px;"></div>
             <div>Fetching APIs from directory...</div>
          </div>
        </div>
        
        <div class="result" id="statusRes" style="margin-top:12px;"></div>
      </section>
    </div>

    <aside>
      <div class="feature-panel">
        <div class="panel-title">Directory Features</div>
        <div class="features">
          <div class="feature">
            <div class="f-icon">üåê</div>
            <div>
              <div class="f-title">Global Access</div>
              <div class="f-desc">Access data sources from around the world for free.</div>
            </div>
          </div>
          <div class="feature">
            <div class="f-icon">üóùÔ∏è</div>
            <div>
              <div class="f-title">No Keys?</div>
              <div class="f-desc">Filter for APIs that require no authentication key.</div>
            </div>
          </div>
          <div class="feature">
            <div class="f-icon">üîí</div>
            <div>
              <div class="f-title">Secure (HTTPS)</div>
              <div class="f-desc">We highlight APIs that support secure connections.</div>
            </div>
          </div>
          <div class="feature">
            <div class="f-icon">üöÄ</div>
            <div>
              <div class="f-title">Live Trends</div>
              <div class="f-desc">Top APIs on the homepage change with every visit.</div>
            </div>
          </div>
          <div class="feature">
            <div class="f-icon">üìÅ</div>
            <div>
              <div class="f-title">Categorized</div>
              <div class="f-desc">Organized by topic: Music, Science, Weather, and more.</div>
            </div>
          </div>
          <div class="feature">
            <div class="f-icon">‚öôÔ∏è</div>
            <div>
              <div class="f-title">JSON Ready</div>
              <div class="f-desc">All listed APIs return standard JSON responses.</div>
            </div>
          </div>
          <div class="feature">
            <div class="f-icon">üè¥‚Äç‚ò†Ô∏è</div>
            <div>
              <div class="f-title">PirateRuler Quality</div>
              <div class="f-desc">Part of the trusted PirateRuler utility tools suite.</div>
            </div>
          </div>
          <div class="feature">
            <div class="f-icon">üíª</div>
            <div>
              <div class="f-title">Dev Friendly</div>
              <div class="f-desc">Clean data for your frontend or backend projects.</div>
            </div>
          </div>
        </div>
        
        <div class="useful-tips">
          <h3>üí° Developer Tips</h3>
          <ul>
            <li><strong>CORS Issues:</strong> Check the badge. Some APIs block browser requests.</li>
            <li><strong>Rate Limits:</strong> Most free APIs limit how many requests you make.</li>
            <li><strong>HTTPS:</strong> Always prefer HTTPS APIs for production apps.</li>
            <li><strong>Documentation:</strong> Click 'Visit' to read the official docs first.</li>
            <li><strong>Auth:</strong> 'ApiKey' means you need to register on their site.</li>
            <li><strong>Reliability:</strong> Free APIs can go offline. Always handle errors.</li>
          </ul>
        </div>
        
        <div class="spacer"></div>
        <div class="feature" style="min-height:unset;align-items:flex-start;padding:14px">
          <div class="f-icon">PR</div>
          <div>
            <div class="f-title">APIs Database By PirateRuler.com</div>
            <div class="f-desc" style="margin-top:6px;display:flex;gap:10px;flex-wrap:wrap;">
              <a class="btn" href="https://pirateruler.com/post/about.html" target="_blank" rel="noopener">About</a>
              <a class="btn" href="https://pirateruler.com/post/privacy.html" target="_blank" rel="noopener">Privacy</a>
              <a class="btn" href="https://pirateruler.com/post/contact.html" target="_blank" rel="noopener">Contact</a>
            </div>
          </div>
        </div>
      </div>
    </aside>
  </main>

  <footer>
    <a class="visit" href="https://pirateruler.com" target="_blank" rel="noopener">Visit PirateRuler.com</a>
    <div style="height:12px"></div>
    <small class="muted">¬© <span id="year"></span> APIs Database By PirateRuler.com ‚Äî Backup & resources: pirateruler.com | <span id="pwa-status"></span></small>
  </footer>
</div>

<aside id="sidebar" class="sidebar" role="dialog">
  <div class="close"><button class="ghost" id="closeSidebar">Close ‚úï</button></div>
  <h3>PirateRuler Links</h3>
  <p class="muted">Quick links & backup resources</p>
  <nav class="nav-list">
    <a href="https://pirateruler.com/post/about.html" target="_blank" rel="noopener">About ‚Äî PirateRuler</a>
    <a href="https://pirateruler.com/post/privacy.html" target="_blank" rel="noopener">Privacy Policy</a>
    <a href="https://pirateruler.com/post/contact.html" target="_blank" rel="noopener">Contact</a>
    <a href="https://pirateruler.com/post/terms.html" target="_blank" rel="noopener">Terms & Service</a>
  </nav>
  <div class="backup">
    If this site is offline you can visit PirateRuler for backups & resources:<br><a href="https://pirateruler.com" target="_blank">pirateruler.com</a>
  </div>
</aside>

<div id="toast" class="toast" role="status"></div>

<script>
  // Year & PWA Status
  document.getElementById('year').textContent = new Date().getFullYear();
  if('serviceWorker' in navigator) document.getElementById('pwa-status').textContent = 'PWA Ready';

  // Theme Toggle
  const themeToggle = document.getElementById('themeBtn');
  const themeThumb = themeToggle.querySelector('.theme-slider-thumb');
  function toggleTheme() {
    const isDark = document.documentElement.classList.toggle('dark');
    localStorage.setItem('theme', isDark ? 'dark' : 'light');
    themeToggle.classList.toggle('active', isDark);
    themeThumb.textContent = isDark ? '‚òÄÔ∏è' : 'üåô';
    document.querySelector('meta[name="theme-color"]').setAttribute('content', isDark ? '#000000' : '#ffffff');
  }
  const savedTheme = localStorage.getItem('theme');
  if (savedTheme === 'dark') { document.documentElement.classList.add('dark'); themeToggle.classList.add('active'); themeThumb.textContent = '‚òÄÔ∏è'; }
  themeToggle.addEventListener('click', toggleTheme);

  // Sidebar
  const sidebar = document.getElementById('sidebar');
  const hambBtn = document.getElementById('hambBtn');
  const closeSidebar = document.getElementById('closeSidebar');
  function openSidebar(){ sidebar.classList.add('open'); sidebar.setAttribute('aria-hidden','false'); closeSidebar.focus(); }
  function closeSB(){ sidebar.classList.remove('open'); sidebar.setAttribute('aria-hidden','true'); }
  hambBtn.addEventListener('click', openSidebar);
  closeSidebar.addEventListener('click', closeSB);
  document.addEventListener('keydown', e => { if(e.key === 'Escape') closeSB(); });
  document.addEventListener('click', e => { if(sidebar.classList.contains('open') && !sidebar.contains(e.target) && !hambBtn.contains(e.target)) closeSB(); });

  // Toast
  function showToast(message, icon = '‚ÑπÔ∏è') {
    const toast = document.getElementById('toast');
    toast.innerHTML = `<span class="icon">${icon}</span><span>${message}</span>`;
    toast.classList.add('show');
    setTimeout(() => toast.classList.remove('show'), 3000);
  }

  // Utility Functions
  function setText(id,val,type=''){ 
    const el=document.getElementById(id); 
    if(el) { el.textContent = val; el.className = 'result ' + type; }
  }

  // --- API HUNTER LOGIC ---
  
  let allApis = [];
  const apiContainer = document.getElementById('apiListContainer');
  const searchInput = document.getElementById('searchInput');

  // Initialize: Fetch APIs
  async function fetchApis() {
    try {
      // Trying the primary public API endpoint
      // Note: We use a try/catch block because publicapis.org can be intermittent
      const response = await fetch('https://api.publicapis.org/entries');
      
      if (!response.ok) throw new Error('Network error');
      
      const data = await response.json();
      allApis = data.entries;
      
      updateStats(allApis);
      displayRandomFeatured(allApis);
      setText('statusRes', 'Database loaded successfully! ‚úÖ', 'success');

    } catch (error) {
      console.warn('Primary API failed, trying backup source...');
      // Backup logic if the main API is down (common with publicapis.org)
      // This ensures the site works for the user no matter what
      try {
        const backupRes = await fetch('https://raw.githubusercontent.com/davemachado/public-api/main/json/entries.json');
        const backupData = await backupRes.json();
        allApis = backupData.entries;
        updateStats(allApis);
        displayRandomFeatured(allApis);
        setText('statusRes', 'Loaded from backup server ‚úÖ', 'success');
      } catch (err2) {
         apiContainer.innerHTML = '<div class="no-results">‚ùå Failed to load API database. Please check connection.</div>';
         setText('statusRes', 'Connection Failed', 'error');
      }
    }
  }

  function updateStats(data) {
    document.getElementById('totalCount').textContent = data.length;
    
    // Count unique categories
    const categories = new Set(data.map(item => item.Category));
    document.getElementById('catCount').textContent = categories.size;
    
    // Count HTTPS
    const secure = data.filter(item => item.HTTPS === true).length;
    document.getElementById('secureCount').textContent = secure;
  }

  // Display logic
  function renderApis(list, isFeatured = false) {
    if(list.length === 0) {
        apiContainer.innerHTML = '<div class="no-results" style="text-align:center;padding:20px;color:var(--muted)">No APIs found matching your search.</div>';
        return;
    }

    let html = '';
    
    // If featured, add a small header
    if(isFeatured) {
        html += '<div style="margin-bottom:15px; font-weight:800; color:var(--text); font-size:18px;">üî• Trending / Featured APIs</div>';
    }

    const limit = isFeatured ? 5 : 50; // Limit rendering for performance
    const renderList = list.slice(0, limit);

    renderList.forEach(api => {
        // Safe check for nulls
        const description = api.Description || 'No description available';
        const category = api.Category || 'Uncategorized';
        const link = api.Link || '#';
        const auth = api.Auth ? api.Auth : 'No Auth';
        const isSecure = api.HTTPS === true;
        const cors = api.Cors || 'Unknown';

        html += `
        <div class="api-item">
            ${isFeatured ? '<span class="featured-badge">FEATURED</span>' : ''}
            <div class="api-header">
                <h3 class="api-name">${api.API}</h3>
                <span class="api-cat">${category}</span>
            </div>
            <p class="api-desc">${description}</p>
            <div class="api-meta">
                <span class="badge ${auth === 'No Auth' || auth === '' ? 'secure' : 'warning'}">${auth === '' ? 'No Key' : auth}</span>
                <span class="badge ${isSecure ? 'secure' : 'warning'}">${isSecure ? 'HTTPS' : 'HTTP'}</span>
                <span class="badge neutral">CORS: ${cors}</span>
                <div style="flex:1"></div>
                <a href="${link}" target="_blank" rel="noopener" class="api-link">Visit API ‚Üó</a>
            </div>
        </div>
        `;
    });

    if(list.length > limit) {
        html += `<div style="text-align:center; padding:15px; color:var(--muted); font-size:13px;">Showing first ${limit} results of ${list.length}...</div>`;
    }

    apiContainer.innerHTML = html;
  }

  // Show random "Trending" APIs on load
  function displayRandomFeatured(data) {
    // Shuffle array
    const shuffled = [...data].sort(() => 0.5 - Math.random());
    const featured = shuffled.slice(0, 5);
    renderApis(featured, true);
  }

  // Search functionality
  searchInput.addEventListener('input', (e) => {
    const val = e.target.value.toLowerCase().trim();
    
    if(val === '') {
        displayRandomFeatured(allApis); // Revert to random featured if empty
        return;
    }

    const filtered = allApis.filter(api => {
        return (api.API && api.API.toLowerCase().includes(val)) || 
               (api.Description && api.Description.toLowerCase().includes(val)) ||
               (api.Category && api.Category.toLowerCase().includes(val));
    });

    renderApis(filtered, false);
  });

  // Start
  fetchApis();

</script>
</body>
</html>
